{
  "project": "NeuroSync",
  "description": "AI-powered focus and mental wellbeing companion for students (Classes 9–12). Built using Firebase for backend and Firestore for database.",
  "mainKey": "userId (same as Firebase Auth UID)",

  "collections": {
    "Profiles": {
      "description": "Stores each user's personal and academic info.",
      "documentId": "user.uid",
      "fields": {
        "firstname": "string",
        "lastname": "string",
        "age": "number",
        "class": "string",
        "preferredSubject": "string",
        "role": "string (Student | Teacher | Parent)",
        "email": "string",
        "createdAt": "timestamp"
      }
    },

    "Moods": {
      "description": "Tracks user mood logs to monitor wellbeing and add mood-based reward points.",
      "documentId": "auto-id",
      "fields": {
        "userId": "string (ref to Profiles.id)",
        "mood": "string (emoji or description)",
        "moodLevel": "number (1–5 scale)",
        "suggestionGiven": "string (AI suggestion or breathing tip)",
        "timestamp": "timestamp"
      },
      "rewardEffect": "Adds +2 points to Rewards.totalPoints per mood entry"
    },

    "FocusSessions": {
      "description": "Stores Pomodoro/focus timer session details and adds focus points.",
      "documentId": "auto-id",
      "fields": {
        "userId": "string (ref to Profiles.id)",
        "startTime": "timestamp",
        "endTime": "timestamp",
        "duration": "number (minutes)",
        "completed": "boolean",
        "pointsEarned": "number",
        "deviceType": "string (optional)"
      },
      "rewardEffect": "Adds +5 points to Rewards.totalPoints per completed session"
    },

    "Rewards": {
      "description": "Stores user total points, avatar level, and badges based on activity.",
      "documentId": "user.uid",
      "fields": {
        "userId": "string (ref to Profiles.id)",
        "totalPoints": "number",
        "avatarLevel": "number (1–5)",
        "badges": "array of strings (e.g. ['Focus Hero', 'Mood Master'])",
        "lastUpdated": "timestamp"
      },
      "avatarLogic": {
        "level1": "0–49 points",
        "level2": "50–149 points",
        "level3": "150–299 points",
        "level4": "300–499 points",
        "level5": "500+ points"
      }
    },

    "StudyLibrary": {
      "description": "Stores curated study materials uploaded by students and approved by teachers.",
      "documentId": "auto-id",
      "fields": {
        "class": "string (9th–12th)",
        "subject": "string",
        "type": "string (Notes | PYQ | Video | QuestionBank)",
        "fileUrl": "string",
        "approved": "boolean",
        "submittedBy": "string (ref to Profiles.id)",
        "approvedBy": "string (ref to Profiles.id)",
        "uploadDate": "timestamp"
      },
      "rewardEffect": "Adds +10 points to Rewards.totalPoints per approved upload"
    },

    "Feedback": {
      "description": "Stores feedback from users about app experience and study materials.",
      "documentId": "auto-id",
      "fields": {
        "userId": "string (ref to Profiles.id)",
        "rating": "number (1–5)",
        "message": "string",
        "submittedAt": "timestamp"
      }
    }
  },

  "relations": [
    "Profiles.id = Auth.uid",
    "Moods.userId = Profiles.id",
    "FocusSessions.userId = Profiles.id",
    "Rewards.userId = Profiles.id",
    "StudyLibrary.submittedBy = Profiles.id",
    "Feedback.userId = Profiles.id"
  ],

  "automation": {
    "CloudFunction1": {
      "trigger": "onCreate(FocusSessions)",
      "action": "increment Rewards.totalPoints by pointsEarned and update avatarLevel"
    },
    "CloudFunction2": {
      "trigger": "onCreate(Moods)",
      "action": "increment Rewards.totalPoints by 2 and update avatarLevel"
    },
    "CloudFunction3": {
      "trigger": "onUpdate(Rewards.totalPoints)",
      "action": "recalculate avatarLevel based on totalPoints"
    }
  }
}
