  <!DOCTYPE html>
<head>
<meta charset="utf-8"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Space+Grotesk%3Awght%40400%3B500%3B700&amp;family=Story+Script%3Awght%40400" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<title>NeuroSync Homepage</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link rel="stylesheet" href="style.css">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore-compat.js"></script>
<style type="text/css">
        :root {
            --dark-bg: #0C0A15;
            --dark-bg-secondary: #1A142D;
            --dark-accent: #9333ea;
            --dark-accent-secondary: #7e22ce;
            --dark-border: #2A2140;
            --dark-text-primary: #FFFFFF;
            --dark-text-secondary: #E0D1FF;
            --dark-text-muted: #A492C9;
            --light-bg: #FFFFFF;
            --light-bg-secondary: #F0F9FF;
            --light-accent: #06B6D4;
            --light-accent-secondary: #0891B2;
            --light-border: #E0F2FE;
            --light-text-primary: #0F172A;
            --light-text-secondary: #334155;
            --light-text-muted: #64748B;
        }
        .dark .bg-primary {
            background-color: var(--dark-bg);
        }
        .dark .bg-secondary {
            background-color: var(--dark-bg-secondary);
        }
        .dark .text-primary {
            color: var(--dark-text-primary);
        }
        .dark .text-secondary {
            color: var(--dark-text-secondary);
        }
        .dark .text-muted {
            color: var(--dark-text-muted);
        }
        .dark .border-primary {
            border-color: var(--dark-border);
        }
        .dark .accent-primary {
            color: var(--dark-accent);
        }
        .dark .accent-gradient {
            background-image: linear-gradient(to right, var(--dark-accent), var(--dark-accent-secondary));
        }
        .dark .bg-accent {
            background-color: var(--dark-accent);
        }
        .dark .bg-accent-secondary {
            background-color: var(--dark-accent-secondary);
        }
        .dark .hover\:text-accent:hover {
            color: var(--dark-accent);
        }
        .dark .hover\:bg-accent-hover:hover {
            background-color: #3E315E;
        }
        .dark .border-accent {
            border-color: var(--dark-accent);
        }
        .dark .shadow-accent {
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1), inset 0 2px 0 rgba(255, 255, 255, 0.2);
        }
        .dark .shadow-accent-lg {
            box-shadow: 0 10px 15px -3px var(--dark-accent-secondary), 0 4px 6px -4px var(--dark-accent-secondary);
        }
        .dark .bg-input {
            background-color: var(--dark-bg-secondary);
        }
        .dark .border-input {
            border-color: #443267;
        }
        .dark .placeholder-color::placeholder {
            color: #5d458c;
        }
        .dark .focus\:ring-accent:focus {
            --tw-ring-color: var(--dark-accent);
        }
        .dark .focus\:border-accent:focus {
            border-color: var(--dark-accent);
        }
        .light .bg-primary {
            background-color: var(--light-bg);
        }
        .light .bg-secondary {
            background-color: var(--light-bg-secondary);
        }
        .light .text-primary {
            color: var(--light-text-primary);
        }
        .light .text-secondary {
            color: var(--light-text-secondary);
        }
        .light .text-muted {
            color: var(--light-text-muted);
        }
        .light .border-primary {
            border-color: var(--light-border);
        }
        .light .accent-primary {
            color: var(--light-accent);
        }
        .light .accent-gradient {
            background-image: linear-gradient(to right, var(--light-accent), var(--light-accent-secondary));
        }
        .light .bg-accent {
            background-color: var(--light-accent);
        }
        .light .bg-accent-secondary {
            background-color: var(--light-accent-secondary);
        }
        .light .hover\:text-accent:hover {
            color: var(--light-accent);
        }
        .light .hover\:bg-accent-hover:hover {
            background-color: #E0F2FE;
        }
        .light .border-accent {
            border-color: var(--light-accent);
        }
        .light .shadow-accent {
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1), inset 0 2px 0 rgba(255, 255, 255, 0.2);
        }
        .light .shadow-accent-lg {
            box-shadow: 0 10px 15px -3px var(--light-accent-secondary), 0 4px 6px -4px var(--light-accent-secondary);
        }
        .light .bg-input {
            background-color: #F8FAFC;
        }
        .light .border-input {
            border-color: #CBD5E1;
        }
        .light .placeholder-color::placeholder {
            color: #94A3B8;
        }
        .light .focus\:ring-accent:focus {
            --tw-ring-color: var(--light-accent);
        }
        .light .focus\:border-accent:focus {
            border-color: var(--light-accent);
        }
        .dark {
             background: radial-gradient(ellipse at top, #1e113b, #0c0a15 70%);
        }
        .light {
             background: linear-gradient(to bottom, #FFFFFF, #F0F9FF);
        }
        .translucent-button {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: #FFFFFF;
            transition: all 0.3s ease;
        }
        .translucent-button:hover {
            background-color: rgba(147, 51, 234, 0.8);
            border: 1px solid rgba(147, 51, 234, 1);
            box-shadow: 0 0 15px rgba(147, 51, 234, 0.7);
            color: #FFFFFF;
        }
        .particle {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            opacity: 0;
            animation: particle-animation 20s infinite;
        }
        @keyframes particle-animation {
            0% {
                transform: translate(var(--x-start), var(--y-start)) scale(0);
                opacity: 0.5;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end)) scale(1);
                opacity: 0;
            }
        }

        /* Focus Mode Styles */
        :root {
            --zen-blue: #2A4D69;
            --zen-green: #6D927E;
            --zen-light: #B4D6CB;
            --zen-text: #E0E0E0;
            --zen-bg-start: #0A0A0A;
            --zen-bg-end: #000000;
            --timer-glow-color-1: #A78BFA;
            --timer-glow-color-2: #818CF8;
        }
        body.focus-mode {
            background: radial-gradient(ellipse at center, var(--zen-bg-start), var(--zen-bg-end) 90%);
            overflow: hidden;
        }
        body.focus-mode header,
        body.focus-mode section:not([data-focus-section]) {
            display: none !important;
            opacity: 0;
            transition: opacity 0.5s ease-out;
        }
        body.focus-mode main {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            height: 100vh;
            width: 100vw;
            padding: 0;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            background: inherit;
        }
        body.focus-mode [data-focus-section] {
            max-width: none;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            box-shadow: none;
            padding: 2rem;
            gap: 2rem;
            transition: all 0.5s ease-in-out;
            position: relative;
            z-index: 1001;
            background: inherit;
            overflow: visible;
        }

        body.focus-mode [data-focus-section] .flex.items-center.gap-4 {
            flex-direction: column;
            gap: 2rem;
        }

        body.focus-mode [data-focus-section] .flex-1 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            position: relative;
            z-index: 5;
        }

        body.focus-mode [data-focus-section] .flex.gap-2 {
            justify-content: center;
            margin-bottom: 1rem;
            position: absolute;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        body.focus-mode [data-focus-section] .flex.gap-2 button {
            margin: 0 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--zen-text);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        body.focus-mode [data-focus-section] .flex.gap-2 button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        body.focus-mode [data-focus-section] .flex.gap-2 button.bg-accent {
            background: var(--zen-text) !important;
            color: var(--zen-blue) !important;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        body.focus-mode [data-focus-section] .mt-6 {
            text-align: center;
            margin-top: 2rem;
        }

        body.focus-mode [data-focus-section] .mt-6 .flex.justify-between {
            justify-content: center;
            margin-bottom: 1rem;
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        body.focus-mode [data-focus-section] .mt-6 .w-full.bg-primary\/80 {
            margin: 0 auto;
            max-width: 300px;
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--zen-text);
            transition: all 0.3s ease;
        }

        body.focus-mode [data-focus-section] .mt-6 .w-full.bg-primary\/80:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            transform: scale(1.02);
        }

        body.focus-mode [data-focus-section] #fullscreen-btn {
            position: absolute;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            z-index: 10;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--zen-text);
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        body.focus-mode [data-focus-section] #fullscreen-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-50%) scale(1.05);
        }
        body.focus-mode #timer-display {
            font-size: 9rem !important;
            color: var(--zen-text) !important;
            text-shadow: 0 0 10px var(--timer-glow-color-1),
                         0 0 20px var(--timer-glow-color-2),
                         0 0 40px var(--timer-glow-color-1),
                         0 0 80px var(--timer-glow-color-2);
            animation: pulse-glow 3s infinite alternate ease-in-out;
        }
        body.focus-mode .pomodoro-glow {
            text-shadow: 0 0 10px var(--timer-glow-color-1),
                         0 0 20px var(--timer-glow-color-2),
                         0 0 40px var(--timer-glow-color-1),
                         0 0 80px var(--timer-glow-color-2);
            animation: pulse-glow 3s infinite alternate ease-in-out;
        }
        @keyframes pulse-glow {
            0% {
                text-shadow: 0 0 10px var(--timer-glow-color-1),
                             0 0 20px var(--timer-glow-color-2);
            }
            100% {
                text-shadow: 0 0 20px var(--timer-glow-color-1),
                             0 0 40px var(--timer-glow-color-2),
                             0 0 60px var(--timer-glow-color-1);
            }
        }
        body.focus-mode .translucent-button {
            background: linear-gradient(135deg, var(--zen-blue), var(--zen-green)) !important;
            border: 1px solid var(--zen-light) !important;
            color: var(--zen-text) !important;
            box-shadow: 0 0 20px rgba(109, 146, 126, 0.5);
            transition: all 0.3s ease;
        }
        body.focus-mode .translucent-button:hover {
            background: linear-gradient(135deg, var(--zen-green), var(--zen-blue)) !important;
            box-shadow: 0 0 30px rgba(109, 146, 126, 0.8);
            transform: scale(1.05);
        }
        .organic-shape {
            position: absolute;
            background: linear-gradient(135deg, var(--zen-blue), var(--zen-green));
            border-radius: 50%;
            opacity: 0.05;
            filter: blur(70px);
            animation: organic-movement 35s ease-in-out infinite;
            z-index: -1;
        }
        @keyframes organic-movement {
            0% {
                transform: translate(var(--x-start), var(--y-start)) scale(0.7) rotate(0deg);
                opacity: 0.05;
            }
            25% {
                transform: translate(var(--x-mid), var(--y-mid)) scale(1.1) rotate(90deg);
                opacity: 0.08;
            }
            50% {
                transform: translate(var(--x-mid), var(--y-mid)) scale(1.1) rotate(180deg);
                opacity: 0.08;
            }
            75% {
                transform: translate(var(--x-end), var(--y-end)) scale(0.8) rotate(270deg);
                opacity: 0.06;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end)) scale(0.8) rotate(360deg);
                opacity: 0.05;
            }
        }

        .floating-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 50%;
            animation: float-particle infinite ease-in-out;
            z-index: -1;
        }

        @keyframes float-particle {
            0%, 100% {
                transform: translateY(0px) translateX(0px) scale(1);
                opacity: 0.3;
            }
            25% {
                transform: translateY(-20px) translateX(10px) scale(1.2);
                opacity: 0.6;
            }
            50% {
                transform: translateY(-10px) translateX(-10px) scale(0.8);
                opacity: 0.4;
            }
            75% {
                transform: translateY(10px) translateX(5px) scale(1.1);
                opacity: 0.5;
            }
        }
        .focus-quote {
            color: var(--zen-text);
            font-size: 1.25rem;
            text-align: center;
            opacity: 0.7;
            margin-top: 2rem;
            animation: text-glow 4s ease-in-out infinite alternate;
        }
        @keyframes text-glow {
            0%, 100% {
                text-shadow: 0 0 3px rgba(255, 255, 255, 0.6),
                             0 0 8px var(--zen-light),
                             0 0 15px var(--zen-green);
            }
            50% {
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.8),
                             0 0 12px var(--zen-light),
                             0 0 25px var(--zen-green);
            }
        }
        #fullscreen-btn {
            background: linear-gradient(135deg, var(--dark-accent), var(--dark-accent-secondary));
            border: none;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        #fullscreen-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
        }
        body.focus-mode #fullscreen-btn span {
            color: var(--zen-text);
        }



        /* Enhanced Mood Selection Styles */
        .mood-button {
            padding: 1.5rem;
            border-radius: 1.5rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .mood-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(147, 51, 234, 0.2), transparent);
            transition: left 0.5s;
        }

        .mood-button:hover::before {
            left: 100%;
        }

        .mood-button:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 40px rgba(147, 51, 234, 0.3);
            border-color: rgba(147, 51, 234, 0.4);
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.1), rgba(255, 255, 255, 0.08));
        }

        .mood-button.selected {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.2), rgba(126, 34, 206, 0.1));
            border-color: rgba(147, 51, 234, 0.6);
            box-shadow: 0 0 30px rgba(147, 51, 234, 0.5), inset 0 2px 10px rgba(147, 51, 234, 0.2);
            animation: pulse-selected 2s infinite;
        }

        @keyframes pulse-selected {
            0%, 100% {
                box-shadow: 0 0 30px rgba(147, 51, 234, 0.5), inset 0 2px 10px rgba(147, 51, 234, 0.2);
            }
            50% {
                box-shadow: 0 0 40px rgba(147, 51, 234, 0.7), inset 0 2px 15px rgba(147, 51, 234, 0.3);
            }
        }

        .mood-button span:first-child {
            transition: all 0.3s ease;
            display: inline-block;
        }

        .mood-button:hover span:first-child {
            transform: scale(1.3) rotate(5deg);
            filter: drop-shadow(0 0 10px rgba(147, 51, 234, 0.6));
        }

        .mood-button.selected span:first-child {
            transform: scale(1.2);
            filter: drop-shadow(0 0 15px rgba(147, 51, 234, 0.8));
        }

        .mood-button span:last-child {
            transition: all 0.3s ease;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .mood-button:hover span:last-child {
            color: var(--dark-accent);
            transform: translateY(-2px);
        }

        .mood-button.selected span:last-child {
            color: var(--dark-accent);
            font-weight: 700;
        }

        /* Mood Grid Animation */
        .mood-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1.5rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .mood-grid .mood-button:nth-child(1) { animation-delay: 0.1s; }
        .mood-grid .mood-button:nth-child(2) { animation-delay: 0.2s; }
        .mood-grid .mood-button:nth-child(3) { animation-delay: 0.3s; }
        .mood-grid .mood-button:nth-child(4) { animation-delay: 0.4s; }
        .mood-grid .mood-button:nth-child(5) { animation-delay: 0.5s; }

        .mood-grid .mood-button {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Focus Mode Enhancement Styles */
        .focus-mode-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .focus-mode-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .focus-mode-modal-content {
            background: linear-gradient(135deg, var(--zen-blue), var(--zen-green));
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .focus-mode-modal.show .focus-mode-modal-content {
            transform: scale(1);
        }

        .focus-mode-modal h3 {
            color: var(--zen-text);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .focus-mode-modal input,
        .focus-mode-modal textarea,
        .focus-mode-modal select {
            width: 100%;
            padding: 0.75rem;
            border: none;
            border-radius: 10px;
            margin-bottom: 1rem;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: var(--zen-text);
        }

        .focus-mode-modal input::placeholder,
        .focus-mode-modal textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .focus-mode-modal .modal-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .focus-mode-modal button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .focus-mode-modal .btn-primary {
            background: var(--zen-text);
            color: var(--zen-blue);
        }

        .focus-mode-modal .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: var(--zen-text);
        }

        .focus-mode-modal button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Ambient Sounds Controls */
        .ambient-sounds {
            position: absolute;
            top: 2rem;
            right: 2rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            z-index: 10;
        }

        .sound-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--zen-text);
        }

        .sound-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .sound-button.active {
            background: var(--zen-text);
            color: var(--zen-blue);
        }

        /* Session Goal Display */
        .session-goal {
            position: absolute;
            bottom: 2rem;
            left: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            max-width: 300px;
            z-index: 10;
        }

        .session-goal h4 {
            color: var(--zen-text);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .session-goal p {
            color: var(--zen-text);
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Theme Selector */
        .theme-selector {
            position: absolute;
            top: 2rem;
            left: 2rem;
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }

        .theme-button {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-button:hover {
            transform: scale(1.2);
            border-color: var(--zen-text);
        }

        .theme-button.active {
            border-color: var(--zen-text);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }



        /* Enhanced Focus Mode Backgrounds */
        body.focus-mode.forest {
            background: radial-gradient(ellipse at center, #0A2A1A, #000000 90%);
        }

        body.focus-mode.ocean {
            background: radial-gradient(ellipse at center, #0A1A2A, #000000 90%);
        }

        body.focus-mode.space {
            background: radial-gradient(ellipse at center, #0A0A1A, #000000 90%);
        }

        body.focus-mode.sunset {
            background: radial-gradient(ellipse at center, #2A1A0A, #000000 90%);
        }

        body.focus-mode.mountain {
            background: radial-gradient(ellipse at center, #1A1A2A, #000000 90%);
        }
    </style>

    <!-- Focus Mode Modals -->
    <div id="goal-modal" class="focus-mode-modal">
        <div class="focus-mode-modal-content">
            <h3>Set Your Focus Goal</h3>
            <input type="text" id="goal-input" placeholder="What do you want to accomplish?" maxlength="100">
            <div class="modal-buttons">
                <button class="btn-secondary" onclick="closeGoalModal()">Skip</button>
                <button class="btn-primary" onclick="setSessionGoal()">Set Goal</button>
            </div>
        </div>
    </div>

    <div id="reflection-modal" class="focus-mode-modal">
        <div class="focus-mode-modal-content">
            <h3>Session Reflection</h3>
            <p style="color: var(--zen-text); margin-bottom: 1rem;">How focused were you during this session?</p>
            <select id="focus-rating">
                <option value="">Select focus level</option>
                <option value="5">Very Focused (5/5)</option>
                <option value="4">Focused (4/5)</option>
                <option value="3">Moderately Focused (3/5)</option>
                <option value="2">Somewhat Distracted (2/5)</option>
                <option value="1">Very Distracted (1/5)</option>
            </select>
            <textarea id="reflection-notes" placeholder="Any notes about your session?" rows="3"></textarea>
            <div class="modal-buttons">
                <button class="btn-secondary" onclick="skipReflection()">Skip</button>
                <button class="btn-primary" onclick="saveReflection()">Save Reflection</button>
            </div>
        </div>
    </div>

    <!-- Ambient Sound Audio Elements -->
    <audio id="rain-sound" loop preload="none">
        <source src="https://www.soundjay.com/misc/sounds/rain-03.mp3" type="audio/mpeg">
    </audio>
    <audio id="nature-sound" loop preload="none">
        <source src="https://www.soundjay.com/misc/sounds/forest-ambience.mp3" type="audio/mpeg">
    </audio>
    <audio id="white-noise-sound" loop preload="none">
        <source src="https://www.soundjay.com/misc/sounds/white-noise.mp3" type="audio/mpeg">
    </audio>
</head>
<body class="bg-primary dark">
<div class="relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden" style='font-family: "Space Grotesk", "Noto Sans", sans-serif;'>
<div class="absolute inset-0 -z-10 overflow-hidden">
<div class="particle" style="--x-start: 10vw; --y-start: 20vh; --x-end: 90vw; --y-end: 80vh; width: 2px; height: 2px; animation-delay: 0s;"></div>
<div class="particle" style="--x-start: 80vw; --y-start: 10vh; --x-end: 20vw; --y-end: 90vh; width: 1px; height: 1px; animation-delay: -1s;"></div>
<div class="particle" style="--x-start: 5vw; --y-start: 90vh; --x-end: 95vw; --y-end: 5vh; width: 3px; height: 3px; animation-delay: -2s;"></div>
<div class="particle" style="--x-start: 95vw; --y-start: 85vh; --x-end: 5vw; --y-end: 15vh; width: 2px; height: 2px; animation-delay: -3s;"></div>
<div class="particle" style="--x-start: 50vw; --y-start: 5vh; --x-end: 50vw; --y-end: 95vh; width: 1px; height: 1px; animation-delay: -4s;"></div>
<div class="particle" style="--x-start: 25vw; --y-start: 95vh; --x-end: 75vw; --y-end: 5vh; width: 2px; height: 2px; animation-delay: -5s;"></div>
<div class="particle" style="--x-start: 75vw; --y-start: 5vh; --x-end: 25vw; --y-end: 95vh; width: 1px; height: 1px; animation-delay: -6s;"></div>
<div class="particle" style="--x-start: 15vw; --y-start: 50vh; --x-end: 85vw; --y-end: 50vh; width: 3px; height: 3px; animation-delay: -7s;"></div>
<div class="particle" style="--x-start: 85vw; --y-start: 50vh; --x-end: 15vw; --y-end: 50vh; width: 2px; height: 2px; animation-delay: -8s;"></div>
<div class="particle" style="--x-start: 5vw; --y-start: 5vh; --x-end: 95vw; --y-end: 95vh; width: 1px; height: 1px; animation-delay: -9s;"></div>
<div class="particle" style="--x-start: 95vw; --y-start: 5vh; --x-end: 5vw; --y-end: 95vh; width: 2px; height: 2px; animation-delay: -10s;"></div>
<div class="particle" style="--x-start: 30vw; --y-start: 30vh; --x-end: 70vw; --y-end: 70vh; width: 3px; height: 3px; animation-delay: -11s;"></div>
<div class="particle" style="--x-start: 70vw; --y-start: 30vh; --x-end: 30vw; --y-end: 70vh; width: 1px; height: 1px; animation-delay: -12s;"></div>
<div class="particle" style="--x-start: 40vw; --y-start: 60vh; --x-end: 60vw; --y-end: 40vh; width: 2px; height: 2px; animation-delay: -13s;"></div>
<div class="particle" style="--x-start: 60vw; --y-start: 60vh; --x-end: 40vw; --y-end: 40vh; width: 1px; height: 1px; animation-delay: -14s;"></div>
<div class="particle" style="--x-start: 20vw; --y-start: 70vh; --x-end: 80vw; --y-end: 30vh; width: 3px; height: 3px; animation-delay: -15s;"></div>
<div class="particle" style="--x-start: 80vw; --y-start: 70vh; --x-end: 20vw; --y-end: 30vh; width: 2px; height: 2px; animation-delay: -16s;"></div>
<div class="particle" style="--x-start: 10vw; --y-start: 80vh; --x-end: 90vw; --y-end: 20vh; width: 1px; height: 1px; animation-delay: -17s;"></div>
<div class="particle" style="--x-start: 90vw; --y-start: 80vh; --x-end: 10vw; --y-end: 20vh; width: 2px; height: 2px; animation-delay: -18s;"></div>
<div class="particle" style="--x-start: 50vw; --y-start: 50vh; --x-end: 50vw; --y-end: 50vh; width: 3px; height: 3px; animation-delay: -19s;"></div>
</div>
<div class="layout-container flex h-full grow flex-col bg-transparent">
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-primary px-4 sm:px-6 lg:px-10 py-3 bg-transparent backdrop-blur-sm sticky top-0 z-20">
<div class="flex items-center gap-3 text-primary">
<svg class="h-7 w-7 accent-primary" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z" fill="currentColor"></path>
</svg>
<h2 class="text-primary text-xl font-bold tracking-tight" style='font-family: "Story Script", sans-serif;'>NeuroSync</h2>
</div>
<nav class="hidden xl:flex items-center gap-2 text-sm text-secondary">
<a class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors" href="#">Home</a>
<a href="student-planner.html" id="dashboard-nav-link" class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1" style="display: none;">
<span>Dashboard</span>
</a>
<div class="relative group">
<button class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1 dropdown-toggle">
<span>Resources</span>
<span class="material-symbols-outlined text-base">expand_more</span>
</button>
<div class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-48 rounded-md shadow-lg bg-secondary/80 backdrop-blur-sm border border-primary ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
<div class="py-1">
<a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="mood-selection.html">Study Material</a>
<a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="#">Upload</a>
</div>
</div>
</div>
<div class="relative group">
<button class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1 dropdown-toggle">
<span>Company</span>
<span class="material-symbols-outlined text-base">expand_more</span>
</button>
<div class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-48 rounded-md shadow-lg bg-secondary/80 backdrop-blur-sm border border-primary ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
<div class="py-1">
<a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="Exp_ Getstarted.html">Feedback Us</a>
<a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="#">About Us</a>
<a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="#">Support</a>
</div>
</div>
</div>
</nav>
<script>
function openDropdown(element) {
  const dropdown = element.querySelector('.absolute');
  if (dropdown) {
    dropdown.classList.remove('hidden');
    dropdown.classList.add('block');
  }
}

function closeDropdown(element) {
  const dropdown = element.querySelector('.absolute');
  if (dropdown) {
    dropdown.classList.add('hidden');
    dropdown.classList.remove('block');
  }
}

// Also add click functionality for better UX
document.addEventListener('DOMContentLoaded', function() {
  const dropdownButtons = document.querySelectorAll('.relative.group button');
  dropdownButtons.forEach(button => {
    button.addEventListener('click', function(e) {
      e.preventDefault();
      const dropdown = this.parentElement.querySelector('.absolute');
      if (dropdown) {
        if (dropdown.classList.contains('hidden')) {
          // Close other dropdowns first
          document.querySelectorAll('.absolute').forEach(d => {
            d.classList.add('hidden');
            d.classList.remove('block');
          });
          // Open this dropdown
          dropdown.classList.remove('hidden');
          dropdown.classList.add('block');
        } else {
          // Close this dropdown
          dropdown.classList.add('hidden');
          dropdown.classList.remove('block');
        }
      }
    });
  });

  // Close dropdowns when clicking outside
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.relative.group')) {
      document.querySelectorAll('.absolute').forEach(dropdown => {
        dropdown.classList.add('hidden');
        dropdown.classList.remove('block');
      });
    }
  });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Pomodoro Timer Variables
  let selectedTime = 25 * 60; // Default 25 minutes in seconds
  let timeLeft = selectedTime;
  let isRunning = false;
  let timerInterval;
  const timerDisplay = document.getElementById('timer-display');
  const startBtn = document.getElementById('start-btn');
  const pauseBtn = document.getElementById('pause-btn');
  const resetBtn = document.getElementById('reset-btn');
  const progressBar = document.getElementById('progress-bar');
  const progressText = document.getElementById('progress-text');
  const timeButtons = document.querySelectorAll('#time-15, #time-25, #time-30, #time-45');

  // Initial focus level: 0%
  let currentFocus = 0;

  function updateDisplay() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  }

  function updateProgress() {
    const totalTime = selectedTime;
    const elapsed = totalTime - timeLeft;
    currentFocus = Math.min((elapsed / totalTime) * 100, 100);
    progressBar.style.width = `${currentFocus}%`;
    progressText.textContent = `${Math.round(currentFocus)}%`;
  }

  function startTimer() {
    if (!isRunning) {
      isRunning = true;
      startBtn.style.display = 'none';
      pauseBtn.style.display = 'flex';
      timerInterval = setInterval(() => {
        timeLeft--;
        updateDisplay();
        updateProgress();
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          isRunning = false;
          startBtn.style.display = 'flex';
          pauseBtn.style.display = 'none';
          // Optional: Alert or sound for session complete
          alert('Session complete! Great job maintaining focus.');
          currentFocus = 100; // Max focus achieved
          updateProgress();
        }
      }, 1000);
    }
  }

  function pauseTimer() {
    if (isRunning) {
      clearInterval(timerInterval);
      isRunning = false;
      startBtn.style.display = 'flex';
      pauseBtn.style.display = 'none';
    }
  }

  function resetTimer() {
    clearInterval(timerInterval);
    isRunning = false;
    timeLeft = selectedTime;
    updateDisplay();
    updateProgress();
    startBtn.style.display = 'flex';
    pauseBtn.style.display = 'none';
  }

  function selectTime(minutes) {
    selectedTime = minutes * 60;
    resetTimer();
    // Update button styles
    timeButtons.forEach(btn => {
      btn.classList.remove('bg-accent', 'text-primary');
    });
    const activeBtn = document.getElementById(`time-${minutes}`);
    activeBtn.classList.add('bg-accent', 'text-primary');
  }

  // Event Listeners
  startBtn.addEventListener('click', startTimer);
  pauseBtn.addEventListener('click', pauseTimer);
  resetBtn.addEventListener('click', resetTimer);

  timeButtons.forEach(btn => {
    btn.addEventListener('click', function() {
      const minutes = parseInt(this.id.split('-')[1]);
      selectTime(minutes);
    });
  });

  // Initial updates
  updateDisplay();
  updateProgress();
});

// Enhanced Focus Mode Functionality
document.addEventListener('DOMContentLoaded', function() {
  const fullscreenBtn = document.getElementById('fullscreen-btn');
  const pomodoroSection = document.querySelector('section:has(#timer-display)');
  const timerDisplay = document.getElementById('timer-display');
  const startBtn = document.getElementById('start-btn');
  const pauseBtn = document.getElementById('pause-btn');
  const timeButtonsContainer = pomodoroSection.querySelector('.flex.gap-2.mb-4'); // Time selection buttons
  const avatarDiv = pomodoroSection.querySelector('div.bg-center.bg-no-repeat.aspect-square.bg-cover.rounded-full.size-16'); // Small avatar
  const pomodoroTitle = pomodoroSection.querySelector('p.text-xl.font-bold.text-primary.mb-2'); // "Pomodoro Timer"
  const progressContainer = pomodoroSection.querySelector('.mt-6'); // Focus level
  const largeAvatarContainer = pomodoroSection.querySelector('.text-center'); // Large avatar
  const sectionH2 = pomodoroSection.querySelector('h2'); // Section title
  const sectionDesc = pomodoroSection.querySelector('p.mt-4.text-lg.text-muted'); // Section description

  let organicShapes = [];
  let quoteDiv = null;
  let sessionGoal = null;
  let currentTheme = 'default';
  let currentSound = null;

  // Initialize ambient sounds
  const rainSound = document.getElementById('rain-sound');
  const natureSound = document.getElementById('nature-sound');
  const whiteNoiseSound = document.getElementById('white-noise-sound');

  // Goal modal functions
  window.closeGoalModal = function() {
    document.getElementById('goal-modal').classList.remove('show');
    enterFocusMode();
  };

  window.setSessionGoal = function() {
    const goalInput = document.getElementById('goal-input');
    sessionGoal = goalInput.value.trim();
    goalInput.value = '';
    document.getElementById('goal-modal').classList.remove('show');
    enterFocusMode();
  };

  // Reflection modal functions
  window.skipReflection = function() {
    document.getElementById('reflection-modal').classList.remove('show');
    exitFocusMode();
  };

  window.saveReflection = async function() {
    const focusRating = document.getElementById('focus-rating').value;
    const reflectionNotes = document.getElementById('reflection-notes').value;

    if (focusRating) {
      try {
        // Save reflection to Firebase (will be implemented in focus.js)
        await saveSessionReflection(focusRating, reflectionNotes);
        showNotification('Reflection saved successfully!', 'success');
      } catch (error) {
        console.error('Error saving reflection:', error);
        showNotification('Failed to save reflection.', 'error');
      }
    }

    document.getElementById('focus-rating').value = '';
    document.getElementById('reflection-notes').value = '';
    document.getElementById('reflection-modal').classList.remove('show');
    exitFocusMode();
  };

  // Ambient sound controls
  function createAmbientControls() {
    const ambientControls = document.createElement('div');
    ambientControls.className = 'ambient-sounds';

    const sounds = [
      { id: 'rain', icon: 'water_drop', audio: rainSound },
      { id: 'nature', icon: 'forest', audio: natureSound },
      { id: 'noise', icon: 'radio_button_checked', audio: whiteNoiseSound }
    ];

    sounds.forEach(sound => {
      const button = document.createElement('button');
      button.className = 'sound-button';
      button.innerHTML = `<span class="material-symbols-outlined">${sound.icon}</span>`;
      button.onclick = () => toggleAmbientSound(sound.id, sound.audio);
      ambientControls.appendChild(button);
    });

    return ambientControls;
  }

  function toggleAmbientSound(soundId, audioElement) {
    if (currentSound === soundId) {
      // Stop current sound
      audioElement.pause();
      audioElement.currentTime = 0;
      currentSound = null;
      document.querySelectorAll('.sound-button').forEach(btn => btn.classList.remove('active'));
    } else {
      // Stop any playing sound
      [rainSound, natureSound, whiteNoiseSound].forEach(audio => {
        audio.pause();
        audio.currentTime = 0;
      });
      document.querySelectorAll('.sound-button').forEach(btn => btn.classList.remove('active'));

      // Play new sound
      audioElement.play().catch(e => console.error('Error playing sound:', e));
      currentSound = soundId;

      // Highlight active button
      const buttons = document.querySelectorAll('.sound-button');
      buttons.forEach((btn, index) => {
        if (index === ['rain', 'nature', 'noise'].indexOf(soundId)) {
          btn.classList.add('active');
        }
      });
    }
  }

  // Theme selector
  function createThemeSelector() {
    const themeSelector = document.createElement('div');
    themeSelector.className = 'theme-selector';

    const themes = [
      { name: 'default', color: '#2A4D69' },
      { name: 'forest', color: '#0A2A1A' },
      { name: 'ocean', color: '#0A1A2A' },
      { name: 'space', color: '#0A0A1A' },
      { name: 'sunset', color: '#2A1A0A' },
      { name: 'mountain', color: '#1A1A2A' }
    ];

    themes.forEach(theme => {
      const button = document.createElement('button');
      button.className = 'theme-button';
      button.style.backgroundColor = theme.color;
      button.onclick = () => setTheme(theme.name);
      if (theme.name === currentTheme) button.classList.add('active');
      themeSelector.appendChild(button);
    });

    return themeSelector;
  }

  function setTheme(themeName) {
    const body = document.body;
    // Remove all theme classes
    ['default', 'forest', 'ocean', 'space', 'sunset', 'mountain'].forEach(theme => {
      body.classList.remove(theme);
    });
    // Add new theme
    if (themeName !== 'default') {
      body.classList.add(themeName);
    }
    currentTheme = themeName;

    // Update active button
    document.querySelectorAll('.theme-button').forEach((btn, index) => {
      btn.classList.toggle('active', index === ['default', 'forest', 'ocean', 'space', 'sunset', 'mountain'].indexOf(themeName));
    });
  }

  // Session goal display
  function createSessionGoalDisplay() {
    if (!sessionGoal) return null;

    const goalDisplay = document.createElement('div');
    goalDisplay.className = 'session-goal';
    goalDisplay.innerHTML = `
      <h4>🎯 Focus Goal</h4>
      <p>${sessionGoal}</p>
    `;
    return goalDisplay;
  }



  function enterFocusMode() {
    const body = document.body;
    body.classList.add('focus-mode');
    pomodoroSection.setAttribute('data-focus-section', 'true');
    timerDisplay.classList.add('pomodoro-glow');

    // Hide non-essential elements
    avatarDiv.style.display = 'none';
    pomodoroTitle.style.display = 'none';
    timeButtonsContainer.style.display = 'none';
    progressContainer.style.display = 'none';
    largeAvatarContainer.style.display = 'none';
    sectionH2.style.display = 'none';
    sectionDesc.style.display = 'none';

    // Enlarge timer
    timerDisplay.style.fontSize = '9rem';

    // Add quote
    quoteDiv = document.createElement('p');
    quoteDiv.className = 'focus-quote';
    quoteDiv.textContent = '"Enter the Deep Focus Chamber. Silence the noise."';
    const timerContainer = pomodoroSection.querySelector('.mt-8');
    timerContainer.appendChild(quoteDiv);

    // Add ambient controls
    const ambientControls = createAmbientControls();
    pomodoroSection.appendChild(ambientControls);

    // Add theme selector
    const themeSelector = createThemeSelector();
    pomodoroSection.appendChild(themeSelector);

    // Add session goal display
    const goalDisplay = createSessionGoalDisplay();
    if (goalDisplay) pomodoroSection.appendChild(goalDisplay);



    // Generate organic shapes with continuous movement
    const shapeConfigs = [
      { xStart: '10vw', yStart: '20vh', xMid: '20vw', yMid: '80vh', xEnd: '30vw', yEnd: '40vh', width: '250px', height: '250px', delay: '0s' },
      { xStart: '80vw', yStart: '10vh', xMid: '70vw', yMid: '30vh', xEnd: '60vw', yEnd: '70vh', width: '180px', height: '180px', delay: '-5s' },
      { xStart: '5vw', yStart: '90vh', xMid: '15vw', yMid: '70vh', xEnd: '25vw', yEnd: '10vh', width: '300px', height: '300px', delay: '-10s' },
      { xStart: '95vw', yStart: '85vh', xMid: '85vw', yMid: '65vh', xEnd: '75vw', yEnd: '25vh', width: '220px', height: '220px', delay: '-15s' },
      { xStart: '50vw', yStart: '5vh', xMid: '40vw', yMid: '25vh', xEnd: '60vw', yEnd: '95vh', width: '150px', height: '150px', delay: '-20s' },
      { xStart: '25vw', yStart: '50vh', xMid: '35vw', yMid: '20vh', xEnd: '45vw', yEnd: '80vh', width: '200px', height: '200px', delay: '-7s' },
      { xStart: '70vw', yStart: '60vh', xMid: '60vw', yMid: '90vh', xEnd: '80vw', yEnd: '30vh', width: '160px', height: '160px', delay: '-12s' },
      { xStart: '15vw', yStart: '75vh', xMid: '25vw', yMid: '45vh', xEnd: '35vw', yEnd: '85vh', width: '280px', height: '280px', delay: '-3s' },
      { xStart: '85vw', yStart: '25vh', xMid: '75vw', yMid: '55vh', xEnd: '65vw', yEnd: '15vh', width: '190px', height: '190px', delay: '-18s' },
      { xStart: '40vw', yStart: '80vh', xMid: '50vw', yMid: '50vh', xEnd: '30vw', yEnd: '20vh', width: '240px', height: '240px', delay: '-9s' }
    ];
    const backgroundContainer = document.querySelector('.relative.flex.size-full');
    shapeConfigs.forEach(config => {
      const shape = document.createElement('div');
      shape.className = 'organic-shape';
      shape.style.setProperty('--x-start', config.xStart);
      shape.style.setProperty('--y-start', config.yStart);
      shape.style.setProperty('--x-mid', config.xMid);
      shape.style.setProperty('--y-mid', config.yMid);
      shape.style.setProperty('--x-end', config.xEnd);
      shape.style.setProperty('--y-end', config.yEnd);
      shape.style.width = config.width;
      shape.style.height = config.height;
      shape.style.animationDelay = config.delay;
      backgroundContainer.appendChild(shape);
      organicShapes.push(shape);
    });

    // Add floating particles for continuous movement
    for (let i = 0; i < 20; i++) {
      const particle = document.createElement('div');
      particle.className = 'floating-particle';
      particle.style.left = Math.random() * 100 + 'vw';
      particle.style.top = Math.random() * 100 + 'vh';
      particle.style.animationDelay = Math.random() * 10 + 's';
      particle.style.animationDuration = (Math.random() * 20 + 20) + 's';
      backgroundContainer.appendChild(particle);
      organicShapes.push(particle); // Add to cleanup array
    }

    fullscreenBtn.innerHTML = '<span class="material-symbols-outlined">fullscreen_exit</span> Exit Focus Mode';

    // Hide other sections
    document.querySelectorAll('header, section:not([data-focus-section])').forEach(el => {
      el.style.opacity = '0';
      setTimeout(() => { el.style.display = 'none'; }, 500);
    });

    // Request fullscreen
    try {
      document.documentElement.requestFullscreen();
    } catch (error) {
      console.error('Error entering fullscreen:', error);
    }
  }

  function exitFocusMode() {
    const body = document.body;
    body.classList.remove('focus-mode', 'forest', 'ocean', 'space', 'sunset', 'mountain');
    pomodoroSection.removeAttribute('data-focus-section');
    timerDisplay.classList.remove('pomodoro-glow');
    timerDisplay.style.fontSize = '';

    // Show hidden elements
    avatarDiv.style.display = '';
    pomodoroTitle.style.display = '';
    timeButtonsContainer.style.display = '';
    progressContainer.style.display = '';
    largeAvatarContainer.style.display = '';
    sectionH2.style.display = '';
    sectionDesc.style.display = '';

    // Remove added elements
    if (quoteDiv) {
      quoteDiv.remove();
      quoteDiv = null;
    }

    // Remove ambient controls
    const ambientControls = pomodoroSection.querySelector('.ambient-sounds');
    if (ambientControls) ambientControls.remove();

    // Remove theme selector
    const themeSelector = pomodoroSection.querySelector('.theme-selector');
    if (themeSelector) themeSelector.remove();

    // Remove session goal display
    const goalDisplay = pomodoroSection.querySelector('.session-goal');
    if (goalDisplay) goalDisplay.remove();



    // Stop ambient sounds
    [rainSound, natureSound, whiteNoiseSound].forEach(audio => {
      audio.pause();
      audio.currentTime = 0;
    });
    currentSound = null;

    // Remove organic shapes
    organicShapes.forEach(shape => shape.remove());
    organicShapes = [];

    fullscreenBtn.innerHTML = '<span class="material-symbols-outlined">fullscreen</span> Enter Focus Mode';

    // Restore sections
    document.querySelectorAll('header, section:not([data-focus-section])').forEach(el => {
      el.style.display = '';
      el.style.opacity = '1';
    });

    // Exit fullscreen
    if (document.fullscreenElement) {
      try {
        document.exitFullscreen();
      } catch (error) {
        console.error('Error exiting fullscreen:', error);
      }
    }

    // Reset session goal
    sessionGoal = null;
  }

  if (fullscreenBtn) {
    fullscreenBtn.addEventListener('click', function() {
      const isFocusMode = document.body.classList.contains('focus-mode');

      if (isFocusMode) {
        // Show reflection modal before exiting
        document.getElementById('reflection-modal').classList.add('show');
      } else {
        // Show goal modal before entering
        document.getElementById('goal-modal').classList.add('show');
      }
    });
  }

  // Handle fullscreen change events
  document.addEventListener('fullscreenchange', function() {
    const isFullscreen = document.fullscreenElement !== null;
    const isFocusMode = document.body.classList.contains('focus-mode');

    if (isFocusMode && !isFullscreen) {
      exitFocusMode();
    }
  });


});

// Theme Toggle Functionality
document.addEventListener('DOMContentLoaded', function() {
  const themeToggle = document.getElementById('theme-toggle');
  const icon = themeToggle.querySelector('span');
  const themeElement = document.body;

  // Load saved theme or default to dark
  const savedTheme = localStorage.getItem('theme') || 'dark';
  themeElement.classList.remove('light', 'dark');
  themeElement.classList.add(savedTheme);
  updateIcon(savedTheme);

  function updateIcon(theme) {
    if (theme === 'dark') {
      icon.textContent = 'light_mode'; // Show sun icon to switch to light
    } else {
      icon.textContent = 'dark_mode'; // Show moon icon to switch to dark
    }
  }

  themeToggle.addEventListener('click', function() {
    const currentTheme = themeElement.classList.contains('dark') ? 'dark' : 'light';
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

    themeElement.classList.remove('light', 'dark');
    themeElement.classList.add(newTheme);
    updateIcon(newTheme);
    localStorage.setItem('theme', newTheme);
  });
});

// Firebase Configuration
const firebaseConfig = {
  apiKey: "AIzaSyCFQ36vxZ5qWhxXXptKe_sXlFVZxzRtCBY",
  authDomain: "neurosync-5173b.firebaseapp.com",
  projectId: "neurosync-5173b",
  storageBucket: "neurosync-5173b.firebasestorage.app",
  messagingSenderId: "855780859936",
  appId: "1:855780859936:web:3044309100db9a61fa1c45",
  measurementId: "G-75S5GWYEDK"
};

// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Get current user and update UI
auth.onAuthStateChanged(async (user) => {
  if (user) {
    // Hide the Get Started button and Create Free Account button for authenticated users
    document.getElementById('get-started-btn').style.display = 'none';
    document.querySelector('a[href="auth.html"]').style.display = 'none';

    // Show navbar profile and dashboard link for authenticated users
    document.getElementById('navbar-profile').style.display = 'flex';
    document.getElementById('dashboard-nav-link').style.display = 'flex';

    // Load profile data
    try {
      const doc = await db.collection('Profiles').doc(user.uid).get();
      let profileData = {};
      if (doc.exists) {
        profileData = doc.data();
      }

      // Update navbar profile photo
      const navbarPhotoDiv = document.getElementById('navbar-profile-photo');
      if (profileData.photoUrl) {
        navbarPhotoDiv.style.backgroundImage = `url("${profileData.photoUrl}")`;
        navbarPhotoDiv.innerHTML = '';
      } else {
        navbarPhotoDiv.style.backgroundImage = 'none';
        navbarPhotoDiv.innerHTML = '<span class="material-symbols-outlined text-xl text-[var(--primary-color)] flex items-center justify-center w-full h-full">person</span>';
      }

      // Update navbar name
      const displayName = profileData.firstname && profileData.lastname
        ? `${profileData.firstname} ${profileData.lastname}`
        : user.displayName || user.email.split('@')[0] || 'User';
      document.getElementById('navbar-name').textContent = displayName;

      // Update navbar class and role
      const classRole = profileData.class && profileData.role
        ? `${profileData.class} • ${profileData.role}`
        : profileData.role || 'Student';
      document.getElementById('navbar-class-role').textContent = classRole;

    } catch (error) {
      console.error('Error loading profile:', error);
      // Fallback to basic user info
      const username = user.displayName || user.email.split('@')[0] || 'User';
      document.getElementById('navbar-name').textContent = username;
      document.getElementById('navbar-class-role').textContent = 'Student';
    }

  } else {
    // Show buttons for non-authenticated users
    document.getElementById('get-started-btn').style.display = '';
    document.querySelector('a[href="auth.html"]').style.display = '';
    // Hide navbar profile and dashboard link for non-authenticated users
    document.getElementById('navbar-profile').style.display = 'none';
    document.getElementById('dashboard-nav-link').style.display = 'none';
  }
});

// Enhanced Mood Functionality
import('./mood.js').then(module => {
  module.initMoodLogging();
  module.loadRecentMoods();

  // Add enhanced mood selection interactions
  const moodButtons = document.querySelectorAll('.mood-button');
  let selectedMood = null;

  moodButtons.forEach(button => {
    button.addEventListener('click', function() {
      // Remove selected class from all buttons
      moodButtons.forEach(btn => btn.classList.remove('selected'));

      // Add selected class to clicked button
      this.classList.add('selected');
      selectedMood = this.dataset.mood;

      // Trigger mood logging
      const moodLevel = parseInt(this.dataset.level);
      module.logMood(selectedMood, moodLevel);
    });
  });
});

// Comments Functionality
document.addEventListener('DOMContentLoaded', function() {
  const commentForm = document.getElementById('comment-form');
  const nameInput = document.getElementById('name-input');
  const userIdInput = document.getElementById('userId-input');
  const postIdInput = document.getElementById('postId-input');
  const commentInput = document.getElementById('comment-input');
  const commentsDisplay = document.getElementById('comments-display');

  function displayComments() {
    commentsDisplay.innerHTML = '';
    db.collection('comments').orderBy('timestamp', 'desc').get().then((querySnapshot) => {
      querySnapshot.forEach((doc) => {
        const comment = doc.data();
        const commentDiv = document.createElement('div');
        commentDiv.className = 'bg-primary/50 backdrop-blur-sm border border-primary rounded-lg p-4';
        commentDiv.innerHTML = `
          <p class="text-primary font-bold">${comment.name}</p>
          <p class="text-primary">${comment.text}</p>
          <span class="inline-block px-2 py-1 text-xs text-muted mt-2 accent-gradient shadow-lg shadow-accent/50 hover:shadow-accent-lg hover:scale-105 transition-all duration-300 rounded-full">${new Date(comment.timestamp.toDate()).toLocaleString()}</span>
        `;
        commentsDisplay.appendChild(commentDiv);
      });
    }).catch((error) => {
      console.error("Error getting comments: ", error);
    });
  }

  // Display comments on load
  displayComments();

  // Handle form submission
  commentForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const name = nameInput.value.trim() || 'Anonymous';
    const commentText = commentInput.value.trim();
    if (commentText) {
      db.collection('comments').add({
        name: name,
        text: commentText,
        timestamp: firebase.firestore.Timestamp.fromDate(new Date())
      }).then(() => {
        nameInput.value = '';
        commentInput.value = '';
        displayComments();
      }).catch((error) => {
        console.error("Error adding comment: ", error);
      });
    }
  });
});

// Navbar dropdown functionality
let dropdownTimeout;
const navbarProfile = document.getElementById('navbar-profile');
const navbarDropdown = document.getElementById('navbar-dropdown');

navbarProfile.addEventListener('mouseenter', () => {
  clearTimeout(dropdownTimeout);
  navbarDropdown.classList.remove('hidden');
  navbarDropdown.classList.add('block');
});

navbarProfile.addEventListener('mouseleave', () => {
  dropdownTimeout = setTimeout(() => {
    navbarDropdown.classList.add('hidden');
    navbarDropdown.classList.remove('block');
  }, 3000); // 3 seconds delay
});

navbarDropdown.addEventListener('mouseenter', () => {
  clearTimeout(dropdownTimeout);
});

navbarDropdown.addEventListener('mouseleave', () => {
  dropdownTimeout = setTimeout(() => {
    navbarDropdown.classList.add('hidden');
    navbarDropdown.classList.remove('block');
  }, 3000); // 3 seconds delay
});

// Navbar sign out functionality
document.getElementById('navbar-sign-out-btn').addEventListener('click', () => {
  firebase.auth().signOut().then(() => {
    window.location.href = 'index.html';
  }).catch((error) => {
    console.error('Sign out error:', error);
  });
});
</script>
<div class="flex items-center gap-4">
<div id="navbar-profile" class="hidden sm:flex items-center gap-3 cursor-pointer relative">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 shadow-[0_0_15px_rgba(128,19,236,0.5)]" id="navbar-profile-photo">
<span class="material-symbols-outlined text-xl text-[var(--primary-color)] flex items-center justify-center w-full h-full">person</span>
</div>
<div class="flex flex-col">
<div class="text-white text-sm font-medium" id="navbar-name">User</div>
<div class="text-[#ad92c9] text-xs" id="navbar-class-role">Student</div>
</div>
<!-- Dropdown Menu -->
<div id="navbar-dropdown" class="absolute top-full right-0 mt-2 w-48 rounded-md shadow-lg bg-[#1A1122] backdrop-blur-sm border border-[#2A1F36] ring-1 ring-black ring-opacity-5 focus:outline-none hidden z-50">
<div class="py-1">
<a href="profile.html" class="flex items-center gap-3 px-4 py-2 text-sm text-white hover:bg-[#362348] transition-colors">
<span class="material-symbols-outlined text-base">person</span>
<span>See Profile</span>
</a>
<a href="profile.html?edit=true" class="flex items-center gap-3 px-4 py-2 text-sm text-white hover:bg-[#362348] transition-colors">
<span class="material-symbols-outlined text-base">edit</span>
<span>Edit Profile</span>
</a>
<button id="navbar-sign-out-btn" class="flex items-center gap-3 px-4 py-2 text-sm text-white hover:bg-[#362348] transition-colors w-full text-left">
<span class="material-symbols-outlined text-base">logout</span>
<span>Sign Out</span>
</button>
</div>
</div>
</div>
<button id="theme-toggle" class="translucent-button flex items-center justify-center rounded-full size-11 hover:scale-110 transition-transform">
<span class="material-symbols-outlined text-2xl">dark_mode</span>
</button>
<button id="get-started-btn" class="hidden sm:flex translucent-button min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-11 px-6 text-base font-bold transition-transform">
<span class="truncate">Get Started</span>
</button>
<button class="xl:hidden translucent-button flex items-center justify-center rounded-full size-11">
<span class="material-symbols-outlined text-2xl">menu</span>
</button>
</div>
</header>
<main class="flex-1">
<section class="relative text-center py-24 px-4 bg-transparent">
<div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.2), transparent 70%);"></div>
<div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"></div>
<div class="relative z-10 max-w-4xl mx-auto">
<h1 class="text-5xl md:text-6xl font-extrabold tracking-tighter text-primary animate-fade-in-down" style='font-family: "Story Script", sans-serif; text-shadow: rgba(147, 51, 234, 0.5) 0px 0px 15px, rgba(147, 51, 234, 0.3) 0px 0px 25px;'>NeuroSync</h1>
<p class="mt-4 text-lg md:text-xl text-secondary max-w-2xl mx-auto">AI-Powered Focus &amp; Mental Wellbeing Companion for Students</p>
<div class="mt-10 flex flex-wrap gap-4 justify-center">
<a class="translucent-button flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-8 text-lg font-bold" href="auth.html">
<span class="truncate">Create Free Account</span>
</a>
</div>
</div>
</section>
<section class="py-20 px-4 sm:px-10 bg-transparent">
<div class="max-w-6xl mx-auto">
<div class="text-center mb-12">
<h2 class="text-3xl md:text-4xl font-bold text-primary tracking-tight">Track Your Mood &amp; Focus</h2>
<p class="mt-2 text-lg text-muted">Log your feelings to get personalized suggestions.</p>
</div>
<div class="bg-secondary/50 backdrop-blur-sm border border-primary rounded-xl p-4 sm:p-8 dark:shadow-2xl dark:shadow-[#7E22CE]/10 light:shadow-lg light:shadow-cyan-500/10">
<div class="flex border-b border-primary mb-8">
<button class="flex-1 py-3 text-base md:text-lg font-bold border-b-2 border-accent text-primary transition-colors">Mood</button>
<button class="flex-1 py-3 text-base md:text-lg font-bold border-b-2 border-transparent text-muted hover:text-primary transition-colors">Focus</button>
</div>
<div class="mood-grid">
<button class="mood-button flex flex-col items-center gap-3 text-muted hover:text-accent transition-colors group" data-mood="Happy" data-level="5">
<span class="text-5xl sm:text-6xl">😄</span>
<span class="font-medium text-sm sm:text-base">Happy</span>
</button>
<button class="mood-button flex flex-col items-center gap-3 text-muted hover:text-accent transition-colors group" data-mood="Neutral" data-level="3">
<span class="text-5xl sm:text-6xl">😐</span>
<span class="font-medium text-sm sm:text-base">Neutral</span>
</button>
<button class="mood-button flex flex-col items-center gap-3 text-muted hover:text-accent transition-colors group" data-mood="Sad" data-level="2">
<span class="text-5xl sm:text-6xl">😔</span>
<span class="font-medium text-sm sm:text-base">Sad</span>
</button>
<button class="mood-button flex flex-col items-center gap-3 text-muted hover:text-accent transition-colors group" data-mood="Anxious" data-level="1">
<span class="text-5xl sm:text-6xl">😟</span>
<span class="font-medium text-sm sm:text-base">Anxious</span>
</button>
<button class="mood-button flex flex-col items-center gap-3 text-muted hover:text-accent transition-colors group" data-mood="Excited" data-level="4">
<span class="text-5xl sm:text-6xl">🤩</span>
<span class="font-medium text-sm sm:text-base">Excited</span>
</button>
</div>
<h3 class="text-xl md:text-2xl font-bold text-primary tracking-tight text-center mb-6">Personalized Suggestions</h3>
<div id="mood-suggestion" class="text-center text-muted mb-6 p-4 rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 backdrop-blur-sm transition-all duration-500">
  <div class="text-lg font-medium mb-2">Select your mood to see a suggestion.</div>
  <div class="text-sm opacity-75">Your emotional state helps us provide better guidance</div>
</div>
<button id="log-mood-btn" class="translucent-button px-8 py-4 rounded-full font-bold hover:scale-105 transition-transform mx-auto block mb-8 text-lg shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40">Log Mood</button>
<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
<div class="flex flex-col gap-6 rounded-2xl bg-gradient-to-br from-primary/80 to-primary/60 backdrop-blur-sm border border-primary/50 p-6 transform hover:-translate-y-3 transition-all duration-500 hover:shadow-2xl hover:shadow-purple-500/20 group">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover rounded-xl overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow duration-300" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCtT0KI4s3kg14ZrFoZLlKMWvodKpolrsdNbKA5uoGRp7wiYb0F8aDhD7hg5sbX6UYxE9wt3YhSoIy4QEUGjauYxTZJtfXLT9CWfN2U3VEHqtzZTocO-b6vM3to2mManmhCxgh3MqZy3GkEdXSEK5eAEZak4S2DXRHa3SoNyNwODNAZq20YRUp9cJJUfpGerZhdq32t8FzhGPiCKEb06loJHPH2_itJgHm547wjiuYushoilS5QCNnTteBrLNLIooqO0xxGQRNrOBU");'>
<div class="w-full h-full bg-gradient-to-t from-black/20 to-transparent"></div>
</div>
<div class="text-center">
<p class="text-xl font-bold text-primary mb-2 group-hover:text-accent transition-colors duration-300">Mindfulness Exercises</p>
<p class="text-muted leading-relaxed">Quick exercises to center your mind and find inner peace.</p>
<div class="mt-4 flex justify-center">
<span class="px-3 py-1 bg-accent/20 text-accent rounded-full text-sm font-medium">5 min sessions</span>
</div>
</div>
</div>
<div class="flex flex-col gap-6 rounded-2xl bg-gradient-to-br from-primary/80 to-primary/60 backdrop-blur-sm border border-primary/50 p-6 transform hover:-translate-y-3 transition-all duration-500 hover:shadow-2xl hover:shadow-blue-500/20 group">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover rounded-xl overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow duration-300" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuB6x_r8yhpW9Tdo6EJI6P29n1gAspVbi831BdAwXGsSOnTPzhusVUwG6GkrUeuZIAbiYZrJBNnRn_y-EcK3HMYMCHF7Tfr8TbmVeN5QW1aWGd1H-AcyKxNSVvr4aTESkAIt0awzo7JJQofDUEbVND52ks5gYfGMaF6DZrW9TLDE0ksrSqklTd3uS5ti7TPqfQabd85JCNtj7Kfua2N_Hq_4eVmodLptwVkq2NNKwsvlXstRrm95xSAn4hftZuGydmwE_gwNbJbgTQ0");'>
<div class="w-full h-full bg-gradient-to-t from-black/20 to-transparent"></div>
</div>
<div class="text-center">
<p class="text-xl font-bold text-primary mb-2 group-hover:text-accent transition-colors duration-300">Study Techniques</p>
<p class="text-muted leading-relaxed">Effective study methods for better focus and retention.</p>
<div class="mt-4 flex justify-center">
<span class="px-3 py-1 bg-accent/20 text-accent rounded-full text-sm font-medium">Proven methods</span>
</div>
</div>
</div>
<div class="flex flex-col gap-6 rounded-2xl bg-gradient-to-br from-primary/80 to-primary/60 backdrop-blur-sm border border-primary/50 p-6 transform hover:-translate-y-3 transition-all duration-500 hover:shadow-2xl hover:shadow-green-500/20 group">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover rounded-xl overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow duration-300" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBMbSjC4B4pP1XbLnsslxg2z1-c2kRiwVIboSHZbqAdhTdA8cQd4vSnHEi7Gk8O7QmcyGa7PCVnur1xYU4kPZ1bv5zxMI-gm1hBxM6J1S4pp0UxOR8SDLAgy3eF2PWWBRDUIlXehz2ZcmSCyB5QgU9BqiZ-BF1QAgHUV5ufTGbbasocx-SlEoXFCysNf6NSA0ItY2mSf2ucZ1rliLJwfi2bxZFnlCI1-aagdY85VAPNL5gky9dXhTieRVKIL6y7gAuVIfWTZ_VH75Q");'>
<div class="w-full h-full bg-gradient-to-t from-black/20 to-transparent"></div>
</div>
<div class="text-center">
<p class="text-xl font-bold text-primary mb-2 group-hover:text-accent transition-colors duration-300">Stress Management</p>
<p class="text-muted leading-relaxed">Strategies to reduce stress and build resilience.</p>
<div class="mt-4 flex justify-center">
<span class="px-3 py-1 bg-accent/20 text-accent rounded-full text-sm font-medium">Science-backed</span>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="py-20 px-4 sm:px-10 bg-secondary/30 backdrop-blur-sm">
<div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center">
<div>
<h2 class="text-3xl md:text-4xl font-bold text-primary tracking-tight">Gamified Focus Timer</h2>
<p class="mt-4 text-lg text-muted">Boost your productivity with our interactive Pomodoro timer. Stay focused, take breaks, and watch your avatar grow!</p>
<div class="mt-8 bg-primary/70 backdrop-blur-sm border border-primary rounded-xl p-6 dark:shadow-2xl dark:shadow-[#7E22CE]/10 light:shadow-lg light:shadow-cyan-500/10">
<div class="flex items-center gap-4">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-16 shrink-0 border-2 border-accent" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDfd-joboe9xIoKtUc4hl2jVktQM-V1N3YX8OgXrfPUxZiBgt74XR5WtJfBxsdBl7av2tJbosZROY157DNMjwOJ3UPSiLPVk4Z2IzmHDcxGM8NjxnoIqz_FpuTSDFkMtVHc8_x9izwetsNYUiEg-t7mwPBTg_v2lp5HDySnPsB71LzS-kg8aihsn0g3tnZ26Smwv6ctsVLs05kme6ecPIAEPguvRiEvNQSeKSF9Utp5vZvfnvGbs_4bQGZUUn12N-bOvBRtIXFxEDk");'></div>
<div class="flex-1">
<p class="text-xl font-bold text-primary mb-2">Pomodoro Timer</p>
<div class="flex gap-2 mb-4">
<button id="time-15" class="translucent-button px-3 py-1 text-sm rounded-full">15 min</button>
<button id="time-25" class="translucent-button px-3 py-1 text-sm rounded-full bg-accent text-primary">25 min</button>
<button id="time-30" class="translucent-button px-3 py-1 text-sm rounded-full">30 min</button>
<button id="time-45" class="translucent-button px-3 py-1 text-sm rounded-full">45 min</button>
</div>
<p id="timer-display" class="text-3xl font-mono text-secondary tracking-widest rounded-lg px-4 py-2 inline-block transition-all duration-300" style="background-color: rgba(147, 51, 234, 0.1); box-shadow: inset 0 2px 4px rgba(147, 51, 234, 0.2);">25:00</p>
</div>
<div class="flex gap-2">
<button id="start-btn" class="translucent-button flex shrink-0 items-center justify-center rounded-full size-16 hover:scale-110 transition-transform duration-200 shadow-lg shadow-accent/30">
<span class="material-symbols-outlined text-4xl">play_arrow</span>
</button>
<button id="pause-btn" class="translucent-button flex shrink-0 items-center justify-center rounded-full size-16 hover:scale-110 transition-transform duration-200 shadow-lg shadow-accent/30" style="display: none;">
<span class="material-symbols-outlined text-4xl">pause</span>
</button>
<button id="reset-btn" class="translucent-button flex shrink-0 items-center justify-center rounded-full size-16 hover:scale-110 transition-transform duration-200 shadow-lg shadow-accent/30">
<span class="material-symbols-outlined text-4xl">replay</span>
</button>
</div>
</div>
<div class="mt-6">
<div class="flex justify-between mb-1 items-center">
<span class="text-base font-medium text-primary">Focus Level</span>
<span id="progress-text" class="text-sm font-bold text-accent px-2 py-1 rounded-full" style="background-color: rgba(147, 51, 234, 0.1); box-shadow: inset 0 2px 4px rgba(147, 51, 234, 0.2);"></span>
</div>
<div class="w-full bg-primary/80 rounded-full h-3 overflow-hidden">
<div id="progress-bar" class="accent-gradient h-3 rounded-full transition-all duration-500 ease-in-out shadow-lg shadow-accent/50"></div>
</div>
<p class="text-xs text-muted mt-2 text-center">Your focus grows as you stay on task!</p>
<button id="fullscreen-btn">
    <span class="material-symbols-outlined">fullscreen</span>
    Enter Focus Mode
</button>
</div>
</div>
</div>
<div class="text-center">
<div class="relative inline-block">
<div class="w-52 h-52 sm:w-64 sm:h-64 bg-center bg-no-repeat aspect-square bg-cover rounded-full" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuATs3u2GubjP4j-HceJbac0tRsxhSIKisnvcgWIuT4_YfMv6Ic8qVVWFo7jP5h2zIK50S0DpKSeTEELa4tRGGvbgZfBF8LnClbAFPXZEdqo4HeIBI55VjKA-J1uJ8Tp2qi3D5jz4LlmgNKx9gJgF_wEITJXY9P3B03GDkXojGDoK_kgrekjp0HcY5MIVIdw4nVgtZsadk1EHmVPJkuHpbubzTqINfNId2banP_kQEvIeGtx-rrSGDpJK176IprCoj1Yvy4YqCk2Vk");'></div>
<div class="absolute -bottom-4 left-1/2 -translate-x-1/2 bg-primary/70 backdrop-blur-sm px-4 py-2 rounded-lg border border-primary">
<p class="text-primary font-bold">Focus Sprite</p>
<p class="text-sm text-muted">Level 5</p>
</div>
</div>
</div>
</div>
</section>
<section class="py-20 px-4 sm:px-10 bg-transparent">
<div class="max-w-6xl mx-auto">
<div class="text-center mb-12">
<h2 class="text-3xl md:text-4xl font-bold text-primary tracking-tight">Study Library</h2>
<p class="mt-2 text-lg text-muted">Access a curated library of study materials.</p>
</div>
<div class="flex justify-center border-b border-primary mb-8 overflow-x-auto">
<button class="px-4 sm:px-6 py-3 text-base md:text-lg font-bold border-b-2 border-accent text-primary transition-colors whitespace-nowrap">All</button>
<button class="px-4 sm:px-6 py-3 text-base md:text-lg font-bold border-b-2 border-transparent text-muted hover:text-primary transition-colors whitespace-nowrap">Math</button>
<button class="px-4 sm:px-6 py-3 text-base md:text-lg font-bold border-b-2 border-transparent text-muted hover:text-primary transition-colors whitespace-nowrap">Science</button>
<button class="px-4 sm:px-6 py-3 text-base md:text-lg font-bold border-b-2 border-transparent text-muted hover:text-primary transition-colors whitespace-nowrap">History</button>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
<div class="flex flex-col gap-4 rounded-xl bg-secondary/50 backdrop-blur-sm border border-primary overflow-hidden dark:shadow-2xl dark:shadow-[#7E22CE]/5 light:shadow-lg light:shadow-cyan-500/5 transform hover:-translate-y-2 transition-transform duration-300">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA_B6m0e8ga_eaolkZK4wkepTqjLQ_LjuEikUHi7vBQyve9zHbh1plw5sfErgfwW4W3Lzs4Kenj74MjmJTaJDhccZIDnCY_Ne4VNvYdaYLIPYdrB9DkoTM3aG6Z9EhcJtTbOvg4J6VFFzQYpSv6kJUf92TFYg42gwzAskOot2W2kY_GYcfUvlLInynpmwYGejHaD0wnG4jVH80_zlhEPw231twfMeQ2pQDo23PTNr7FD6ITeeT5p-mWx04K5tWfnnLFkdY0CWTKKVc");'></div>
<div class="p-5">
<p class="text-xl font-bold text-primary">Calculus 101</p>
<p class="text-muted mt-1">Learn the fundamentals of calculus.</p>
</div>
</div>
<div class="flex flex-col gap-4 rounded-xl bg-secondary/50 backdrop-blur-sm border border-primary overflow-hidden dark:shadow-2xl dark:shadow-[#7E22CE]/5 light:shadow-lg light:shadow-cyan-500/5 transform hover:-translate-y-2 transition-transform duration-300">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA_B6m0e8ga_eaolkZK4wkepTqjLQ_LjuEikUHi7vBQyve9zHbh1plw5sfErgfwW4W3Lzs4Kenj74MjmJTaJDhccZIDnCY_Ne4VNvYdaYLIPYdrB9DkoTM3aG6Z9EhcJtTbOvg4J6VFFzQYpSv6kJUf92TFYg42gwzAskOot2W2kY_GYcfUvlLInynpmwYGejHaD0wnG4jVH80_zlhEPw231twfMeQ2pQDo23PTNr7FD6ITeeT5p-mWx04K5tWfnnLFkdY0CWTKKVc");'></div>
<div class="p-5">
<p class="text-xl font-bold text-primary">Physics 101</p>
<p class="text-muted mt-1">Explore the laws of motion and energy.</p>
</div>
</div>
<div class="flex flex-col gap-4 rounded-xl bg-secondary/50 backdrop-blur-sm border border-primary overflow-hidden dark:shadow-2xl dark:shadow-[#7E22CE]/5 light:shadow-lg light:shadow-cyan-500/5 transform hover:-translate-y-2 transition-transform duration-300">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA_B6m0e8ga_eaolkZK4wkepTqjLQ_LjuEikUHi7vBQyve9zHbh1plw5sfErgfwW4W3Lzs4Kenj74MjmJTaJDhccZIDnCY_Ne4VNvYdaYLIPYdrB9DkoTM3aG6Z9EhcJtTbOvg4J6VFFzQYpSv6kJUf92TFYg42gwzAskOot2W2kY_GYcfUvlLInynpmwYGejHaD0wnG4jVH80_zlhEPw231twfMeQ2pQDo23PTNr7FD6ITeeT5p-mWx04K5tWfnnLFkdY0CWTKKVc");'></div>
<div class="p-5">
<p class="text-xl font-bold text-primary">Chemistry 101</p>
<p class="text-muted mt-1">Understand atoms, molecules, and reactions.</p>
</div>
</div>
<div class="flex flex-col gap-4 rounded-xl bg-secondary/50 backdrop-blur-sm border border-primary overflow-hidden dark:shadow-2xl dark:shadow-[#7E22CE]/5 light:shadow-lg light:shadow-cyan-500/5 transform hover:-translate-y-2 transition-transform duration-300">
<div class="w-full h-48 bg-center bg-no-repeat bg-cover" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA_B6m0e8ga_eaolkZK4wkepTqjLQ_LjuEikUHi7vBQyve9zHbh1plw5sfErgfwW4W3Lzs4Kenj74MjmJTaJDhccZIDnCY_Ne4VNvYdaYLIPYdrB9DkoTM3aG6Z9EhcJtTbOvg4J6VFFzQYpSv6kJUf92TFYg42gwzAskOot2W2kY_GYcfUvlLInynpmwYGejHaD0wnG4jVH80_zlhEPw231twfMeQ2pQDo23PTNr7FD6ITeeT5p-mWx04K5tWfnnLFkdY0CWTKKVc");'></div>
<div class="p-5">
<p class="text-xl font-bold text-primary">History 101</p>
<p class="text-muted mt-1">Explore key events and figures in history.</p>
</div>
</div>
</div>
</div>
</section>
<section class="py-20 px-4 sm:px-10 bg-transparent">
<div class="max-w-6xl mx-auto">
<div class="text-center mb-12">
<h2 class="text-3xl md:text-4xl font-bold text-primary tracking-tight">Comments</h2>
<p class="mt-2 text-lg text-muted">Share your thoughts and feedback!</p>
</div>
<div class="bg-secondary/50 backdrop-blur-sm border border-primary rounded-xl p-4 sm:p-8 dark:shadow-2xl dark:shadow-[#7E22CE]/10 light:shadow-lg light:shadow-cyan-500/10">
<form id="comment-form" class="mb-8">
<input type="hidden" id="postId-input" value="homepage">
<div class="mb-4">
<label for="name-input" class="block text-primary font-medium mb-2">Your Name</label>
<input type="text" id="name-input" class="w-full px-4 py-3 bg-input border border-input rounded-lg text-primary placeholder-color focus:ring-accent focus:border-accent" placeholder="Enter your name...">
</div>
<div class="mb-4">
<label for="userId-input" class="block text-primary font-medium mb-2">User ID (optional)</label>
<input type="text" id="userId-input" class="w-full px-4 py-3 bg-input border border-input rounded-lg text-primary placeholder-color focus:ring-accent focus:border-accent" placeholder="Enter your user ID...">
</div>
<div class="mb-4">
<label for="comment-input" class="block text-primary font-medium mb-2">Your Message</label>
<textarea id="comment-input" rows="4" class="w-full px-4 py-3 bg-input border border-input rounded-lg text-primary placeholder-color focus:ring-accent focus:border-accent resize-none" placeholder="Write your comment here..."></textarea>
</div>
<button type="submit" class="translucent-button px-6 py-3 rounded-full font-bold hover:scale-105 transition-transform">Send Comment</button>
</form>
<div id="comments-display" class="space-y-4">
<!-- Comments will be displayed here -->
</div>
</div>
</div>
</section>
</main>
</div>
</body>
</html>
