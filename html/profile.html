<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NeuroSync Profile</title>
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="stylesheet" href="../css/global.css"/>
  <link rel="stylesheet" href="../css/mobile-optimizations.css"/>
</head>
<body class="bg-[#110d19] text-white">
<div class="relative flex size-full min-h-screen flex-col bg-[#110d19] dark group/design-root overflow-x-hidden" style='font-family: "Space Grotesk", "Noto Sans", sans-serif;'>
<div class="layout-container flex h-full grow flex-col">
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-primary px-4 sm:px-6 lg:px-10 py-3 bg-transparent backdrop-blur-sm sticky top-0 z-20">
<div class="flex items-center gap-3 text-primary">
<svg class="h-7 w-7 accent-primary" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z" fill="currentColor"></path>
</svg>
<h2 class="text-primary text-xl font-bold tracking-tight" style='font-family: "Story Script", sans-serif;'>NeuroSync</h2>
</div>
<nav class="hidden xl:flex items-center gap-2 text-sm text-secondary">
<a class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors" href="../index.html">Home</a>
<div class="relative group" onmouseleave="closeDropdown(this)" onmouseenter="openDropdown(this)">
<button class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1" onmouseenter="openDropdown(this.parentElement)">
<span>Focus</span>
<span class="material-symbols-outlined text-base">expand_more</span>
</button>
<div class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-40 rounded-md shadow-lg bg-secondary/80 backdrop-blur-sm border border-primary ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
<div class="py-1">
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="dashboard.html">Dashboard</a>
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="rewards.html">Rewards</a>
</div>
</div>
</div>
<div class="relative group" onmouseleave="closeDropdown(this)" onmouseenter="openDropdown(this)">
<button class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1" onmouseenter="openDropdown(this.parentElement)">
<span>Resources</span>
<span class="material-symbols-outlined text-base">expand_more</span>
</button>
<div class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-48 rounded-md shadow-lg bg-secondary/80 backdrop-blur-sm border border-primary ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
<div class="py-1">
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="mood-selection.html">Mood Tracker</a>
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="study-library.html">Study Library</a>
</div>
</div>
</div>
<div class="relative group" onmouseleave="closeDropdown(this)" onmouseenter="openDropdown(this)">
<button class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors flex items-center gap-1" onmouseenter="openDropdown(this.parentElement)">
<span>Company</span>
<span class="material-symbols-outlined text-base">expand_more</span>
</button>
<div class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-48 rounded-md shadow-lg bg-secondary/80 backdrop-blur-sm border border-primary ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
<div class="py-1">
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="feedback.html">Feedback Us</a>
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="#about">About Us</a>
                        <a class="block px-4 py-2 text-sm text-secondary hover:bg-primary/50 hover:text-primary transition-colors" href="#support">Support</a>
</div>
</div>
</div>
<a href="rewards.html" class="translucent-button rounded-full px-4 py-2 hover:text-primary transition-colors">Rewards</a>
</nav>
<div class="flex items-center gap-4">
<button class="hidden sm:flex translucent-button min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-11 px-6 text-base font-bold transition-transform">
<span class="truncate">Get Started</span>
</button>
<button class="xl:hidden translucent-button flex items-center justify-center rounded-full size-11">
<span class="material-symbols-outlined text-2xl">menu</span>
</button>
</div>
</header>
<script type="module" src="../js/navbar.js"></script>
<main class="flex flex-1 items-center justify-center py-12 md:py-0">
<div class="mx-auto w-full max-w-md rounded-2xl bg-[#1a1122] p-8 shadow-2xl shadow-black/40">
<h2 class="mb-2 text-center text-3xl font-bold tracking-tighter">Your Profile</h2>
<p class="mb-8 text-center text-sm text-gray-400">Manage your personal information.</p>
<form class="space-y-4" id="profile-form">
<div class="relative flex justify-center mb-4 w-24 h-24 mx-auto">
  <img src="" alt="Profile Photo" id="profile-photo-preview" class="rounded-full object-cover w-24 h-24 ring-2 ring-white" />
  <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-xs font-semibold select-none pointer-events-none">
    Profile Photo
  </span>
  <button id="change-photo-button" title="Change Photo" class="absolute top-1/2 left-1/2 flex h-10 w-10 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full bg-[var(--primary-600)] text-white shadow-lg shadow-[var(--primary-600)]/20 transition-all hover:bg-[var(--primary-700)] hover:shadow-xl hover:shadow-[var(--primary-700)]/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--primary-600)] focus:ring-offset-[#1a1122]">
    &#9998;
  </button>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="firstName">First Name</label>
<input class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="firstName" placeholder="Enter your first name" type="text" readonly/>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="lastName">Last Name</label>
<input class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="lastName" placeholder="Enter your last name" type="text" readonly/>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="age">Age</label>
<input class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="age" placeholder="Enter your age" type="number" readonly/>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="classGrade">Class/Grade</label>
<input class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="classGrade" placeholder="Enter your class or grade" type="text" readonly/>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="role">Role</label>
<select class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="role" disabled>
<option value="Student">Student</option>
<option value="Teacher">Teacher</option>
<option value="Parent">Parent</option>
</select>
</div>
<div class="space-y-2">
<label class="text-sm font-medium text-gray-300" for="photoUrl">Photo URL</label>
<input class="form-input w-full rounded-lg border border-[#362348] bg-[#110d19] p-3 text-sm text-white placeholder:text-gray-500 transition-colors focus:border-[var(--primary-600)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]/50" id="photoUrl" placeholder="Enter photo URL" type="url" readonly/>
</div>
<div class="flex gap-4 mt-6">
<button id="edit-button" class="flex-1 rounded-lg bg-[var(--primary-600)] py-3 text-sm font-bold text-white shadow-lg shadow-[var(--primary-600)]/20 transition-all hover:bg-[var(--primary-700)] hover:shadow-xl hover:shadow-[var(--primary-700)]/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--primary-600)] focus:ring-offset-[#1a1122]" type="button">
Edit Profile
</button>
<button id="save-button" class="flex-1 rounded-lg bg-green-600 py-3 text-sm font-bold text-white shadow-lg shadow-green-600/20 transition-all hover:bg-green-700 hover:shadow-xl hover:shadow-green-700/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-600 focus:ring-offset-[#1a1122]" type="button" style="display: none;">
Save Changes
</button>
</div>
<div id="message" class="mt-4 text-center text-sm"></div>
</form>
</div>
</main>
</div>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore-compat.js"></script>
<!-- Firebase Storage -->
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-storage-compat.js"></script>
<!-- Cloudinary Widget -->
<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
<script>
// Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyCFQ36vxZ5qWhxXXptKe_sXlFVZxzRtCBY",
  authDomain: "neurosync-5173b.firebaseapp.com",
  projectId: "neurosync-5173b",
  storageBucket: "neurosync-5173b.firebasestorage.app",
  messagingSenderId: "855780859936",
  appId: "1:855780859936:web:3044309100db9a61fa1c45",
  measurementId: "G-75S5GWYEDK"
};

// Initialize Firebase if not already done
if (!firebase.apps.length) {
  firebase.initializeApp(firebaseConfig);
}
</script>
<script src="../js/profile.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
document.getElementById('edit-button').addEventListener('click', function() {
    console.log('Edit button clicked');
    // Enable editing
    const inputs = document.querySelectorAll('#profile-form input, #profile-form select');
    inputs.forEach(input => {
      input.removeAttribute('readonly');
      input.removeAttribute('disabled');
      console.log(`Enabled input: id=${input.id}, readonly=${input.hasAttribute('readonly')}, disabled=${input.hasAttribute('disabled')}`);
    });
    document.getElementById('edit-button').style.display = 'none';
    document.getElementById('save-button').style.display = 'block';
    document.getElementById('message').textContent = 'Editing mode enabled.';
    document.getElementById('message').style.color = 'yellow';

    // Set focus to first input
    if(inputs.length > 0) {
      inputs[0].tabIndex = 0;
      inputs[0].focus();
      console.log(`Focused input: id=${inputs[0].id}`);
    }
  });

  document.getElementById('save-button').addEventListener('click', function() {
    // Save profile
    saveProfile();
    // Disable editing
    const inputs = document.querySelectorAll('#profile-form input, #profile-form select');
    inputs.forEach(input => {
      input.setAttribute('readonly', 'true');
      if (input.tagName === 'SELECT') {
        input.setAttribute('disabled', 'true');
      }
    });
    document.getElementById('edit-button').style.display = 'block';
    document.getElementById('save-button').style.display = 'none';
    document.getElementById('message').textContent = 'Profile saved successfully!';
    document.getElementById('message').style.color = 'green';
  });

  document.getElementById('change-photo-button').addEventListener('click', function() {
    openUploadWidget();
  });
});
</script>
</div>

</body></html>
